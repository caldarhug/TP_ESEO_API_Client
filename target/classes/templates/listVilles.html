<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">

<head>
<th:block th:replace="fragments/general_configuration :: head_conf"></th:block>
<meta charset="UTF-8">
<title>Liste des villes</title>
<link th:href="@{/css/stylesheet.css}" rel="stylesheet" type="text/css"
	media="all" />
</head>

<body>
	<div th:replace="fragments/header.html"></div>
	<h1>Ins√©rer la liste des villes</h1>

	<table id="tableVilles"
		class="table table-striped table-dark table-bordered table-sm"
		cellspacing="0" width="100%" aria-label="Liste des villes">
		<thead>
			<tr>
				<th>Code commune</th>
				<th>Nom</th>
				<th>Code postal</th>
				<th>Libelle</th>
				<th>Ligne</th>
				<th>Latitude</th>
				<th>Longitude</th>
				<th>MODIFIER</th>
			</tr>
		</thead>
		<tbody>
			<div th:if="${villes.isEmpty()}"></div>
			<tr th:each="ville: ${villes}">
				<td th:text="${ville.codeCommune}"></td>
				<td th:text="${ville.nomCommune}"></td>
				<td th:text="${ville.codePostal}"></td>
				<td th:text="${ville.libelleAcheminement}"></td>
				<td th:text="${ville.ligne}"></td>
				<td th:text="${ville.coordonnee.latitude}"></td>
				<td th:text="${ville.coordonnee.longitude}"></td>
				<td>
					<a th:href="@{/listVilles/{codeCommune} (codeCommune=${ville.codeCommune})}" type="button">
						<i class="bi bi-pencil-fill"></i>
					</a>
				</td>
			</tr>
		</tbody>
	</table>

	<script th:src="@{/libs/jquery/js/jquery-3.6.0.min.js}"
		type="text/javascript"></script>
	<script th:src="@{/libs/jquery/js/jquery.dataTables.min.js}"
		type="text/javascript"></script>
	<script th:src="@{/libs/jquery/js/dataTables.bootstrap5.min.js}"
		type="text/javascript"></script>

	<script type="text/javascript">
		$(document).ready(function() {
			$('#tableVilles').DataTable();
		});
	</script>
</body>
</html>