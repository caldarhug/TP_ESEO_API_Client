<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">

<head>
	<th:block th:replace="fragments/general_configuration :: head_conf"></th:block>
	<title>Accueil</title>
</head>

<body class="d-flex flex-column min-vh-100">
	<header th:replace="fragments/header.html"></header>

	<main class="container-fluid flex-fill">
	
		<div th:if="${error != null}">
			<div class="alert alert-danger alert-dismissible mx-5 mt-4 d-flex" role="alert">
				<div th:text="'Attention : ' + ${error}"></div>
				<button type="button" class="btn-close" data-bs-dismiss="alert"
					aria-label="Close">
				</button>
			</div>
		</div>
		
		<div class="container">
			<div class="row mt-3">

				<h1>Calcul de distance entre deux villes</h1>

				<form th:action="@{/}" method="post">
					<div class="mt-2 mb-4 d-flex justify-content-around">
						<select modelAttribute="villeA" name="villeA" id="villeA">
							<option value="" hidden>Sélectionner une ville</option>
							<option th:each="ville: ${villes}" th:value="${ville}"
								th:text="${ville.nomCommune}"></option>
						</select> 
					
						<select modelAttribute="villeB" name="villeB" id="villeB">
							<option value="" hidden>Sélectionner une ville</option>
							<option th:each="ville: ${villes}" th:value="${ville}"
								th:text="${ville.nomCommune}"></option>
						</select>
					</div>

					<div class="d-flex justify-content-center">
						<button class="btn btn-primary btn-lg" type="submit" 
						id="distance_submit" name="distanceSubmit" value="distanceSubmit">
							Calculer la distance
						</button>
					</div>
				</form>

				<div class="mt-4" th:if="${distance != null}">
					<div class="h4"
						th:text="'La distance entre ' + ${villeA.nomCommune} + ' et ' + ${villeB.nomCommune} + ' est de : ' + ${distance} + ' km.'">
					</div>
				</div>
				
			</div>
		</div>
		
	</main>
	
	<footer th:replace="fragments/footer.html"></footer>

</body>
</html>